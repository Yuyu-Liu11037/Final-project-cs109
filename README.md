# 2022 Fall CS109 期末考查
刘宇雨 12010836

## 一、类设计描述
### (一) 包，类，属性
1. **manage**
*  result
   - testingSite (检测点)
   - tester (检测者)
   - date (检测日期)
   - time (检测时间)
   - result (检测结果)
*  resultManage
   - results (所有检测信息)
   - testingSites (检测信息中包含的对应检测点)
   - testers (检测信息中包含的对应检测者)
*  tester (检测者)
   - ID (身份证号)
   - name (名字)
   - city (所在城市)
   - age (年龄)
   - stage (当前健康码颜色)
*  testerManage
   - testers (所有检测者)
*  testingSite
   - ID (检测点编号)
   - city (检测点所在城市)
   - testingSiteName (检测点名字)
   - openingDate (开放日期)
   - openingTime (开放时段)
*  testingSiteManage
   - testingSites (所有检测点)
2. **test**
*  Main (程序运行入口)
   - currentStage (控制终端输出的全局变量)

### (二) 类与类之间关系
*resultManage, testerManage, testingSiteManage*分别管理*result, tester, testingSite*的信息

### (三) 整体设计思路
在终端窗口中，每次接受用户输入参数并执行相对命令后，改变*currentStage*的值，跳转至对应的选项界面，并要求用户继续输入下一个命令，直至退出程序

## 二、功能描述
### (一) 基本需求
1. 设计思路
   - 检测点管理：按要求调用对应方法，添加、查询(所有或根据检测点编号)、删除检测点(根据检测点编号)
   - 受检测人管理：按要求调用对应方法，添加(单个)、查询(所有或根据身份证号)、删除受检测人(根据身份证号)
   - 核酸检测采样管理：按要求调用对应方法，添加单采或混采结果、查询结果(根据检测点、受检⼈、检测⽇期及检测结果分别查询，以及多条信息联合查询)
   - 其他：可批量添加受检人、检测点信息包含每日开放时间段

2. 命令段输入、输出方式：按打印出的提示输入对应内容，并在输入后直接输出结果和下一个提示

**NOTE!**  先输入核酸检测点和检测人之后才能输入对应的结果

### (二) 冲突管理
1. 核心代码：分别在src/manage目录下 *resultManage.java、testerManage.java 、testingSiteMange.java* 的如下注释之后
```
// conflict management
```

2. 测试数据：*src/test/testData.txt*

## 三、测试数据描述
- 测试数据
  - 5个检测点(覆盖三个城市,其中一个数据重复):
   ```
   检测点输入：
   11037 希望之峰学院 教室 2022-11-26 14:00~16:59
   20001 贾巴沃克岛 中心岛 2022-11-27 10:00~19:59
   20002 贾巴沃克岛 4岛 2022-11-28 14:00~16:59
   10101 才囚学院 钢琴室 2022-11-29 12:00~19:59
   10101 才囚学院 钢琴室 2022-11-29 12:00~19:59 // conflict : 重复数据
   ```

   - 21个受检人信息(其中一个数据重复):
   ```
   受检人输入：
   500102200201020025 苗木诚 17 绿码 希望之峰学院
   500102200201010025 黑白熊 17 绿码 希望之峰学院
   500102200201030025 舞园沙耶香 17 绿码 希望之峰学院
   500102200201040025 雾切响子 17 绿码 希望之峰学院
   500102200201050025 塞蕾丝缇雅 17 绿码 希望之峰学院
   500102200201060025 腐川冬子 17 绿码 希望之峰学院
   500102200201160025 十神白夜 17 绿码 希望之峰学院
   500102200201070025 江之岛盾子 17 绿码 希望之峰学院
   500102200201070026 战刃骸 17 绿码 希望之峰学院
   500102200201070027 灭族者翔 17 绿码 希望之峰学院
   500102200201090025 日向创 16 绿码 贾巴沃克岛
   500102200201100025 狛枝凪斗 16 红码 贾巴沃克岛
   500102200201110025 七海千秋 16 绿码 贾巴沃克岛
   500102200201120025 田中眼蛇梦 16 绿码 贾巴沃克岛
   500102200201130025 罪木蜜柑 16 绿码 贾巴沃克岛
   500102200201140025 赤松枫 15 绿码 才囚学院
   500102200201150025 最原终一 15 绿码 才囚学院
   500102200201160025 天海兰太郎 15 绿码 才囚学院
   500102200201170025 王马小吉 15 红码 才囚学院
   500102200201180025 入间美兔 15 绿码 才囚学院
   500102200201180025 入间美兔 15 绿码 才囚学院 // conflict : 重复数据
   ```
   - 10条单采记录(包含健康码由绿变红、重复、不满足检测日期/时间/城市、同一人一天检测两次的数据):
    ```
    单采：
    20001 500102200201100025 2022-11-27 12:20 positive
    10101 500102200201170025 2022-11-29 13:10 negative // conflict : 健康码变绿（与上一次检测结果相关）
    10101 500102200201140025 2022-11-29 17:55 negative
    11037 500102200201030025 2022-11-26 15:00 positive
    20002 500102200201120025 2022-11-28 16:45 positive
    20002 500102200201120025 2022-11-28 14:30 positive // conflict : 重复数据
    11037 500102200201030025 2022-11-26 18:35 negative // conflict : 不满足检测点开放时间
    20001 500102200201100025 2022-11-26 12:20 positive // conflict : 不满足检测点开放日期
    20001 500102200201170025 2022-11-29 13:10 negative // conflict : 不满足检测点开放城市
    10101 500102200201140025 2022-11-29 18:05 negative // conflict : 同一天同一人检测两次
    ```
   - 10条无异常混采记录:
    ```
    混采1：
    11037 500102200201020025 2022-11-26 14:01 negative
    11037 500102200201010025 2022-11-26 14:02 negative
    11037 500102200201030025 2022-11-26 14:03 negative
    11037 500102200201040025 2022-11-26 14:04 negative
    11037 500102200201050025 2022-11-26 14:05 negative
    11037 500102200201060025 2022-11-26 14:06 negative
    11037 500102200201160025 2022-11-26 14:07 negative
    11037 500102200201070025 2022-11-26 14:08 negative
    11037 500102200201070026 2022-11-26 14:09 negative
    11037 500102200201070027 2022-11-26 14:10 negative
    ```
   - 10条包含重复检测人的混采记录
   ```
   混采2：
    11037 500102200201020025 2022-11-26 14:01 negative
    11037 500102200201010025 2022-11-26 14:02 negative
    11037 500102200201030025 2022-11-26 14:03 negative
    11037 500102200201040025 2022-11-26 14:04 negative
    11037 500102200201050025 2022-11-26 14:05 negative
    11037 500102200201060025 2022-11-26 14:06 negative
    11037 500102200201160025 2022-11-26 14:07 negative
    11037 500102200201070025 2022-11-26 14:08 negative
    11037 500102200201070026 2022-11-26 14:09 negative
    11037 500102200201070026 2022-11-26 14:10 negative // conflict : 混采中，10位受检人有两位相同

- 能测试冲突管理中的全部冲突
# Final-project-cs109
